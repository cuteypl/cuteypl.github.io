webpackJsonp([2],{"+Vy2":function(t,e,s){"use strict";var n=s("7QTg"),o={name:"BSwiper",components:{swiper:n.swiper},props:{direction:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].indexOf(t)>-1}},interval:{type:Number,default:3e3,validator:function(t){return t>=0}},loop:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},slidersArr:{type:Array,default:function(){return[]}}},data:function(){return{keyId:Math.random()}},watch:{slidersArr:function(t){0!==t.length&&(this.swiperOptions.loop=!(t.length<=1)&&this.loop,this.keyId=Math.random())}},created:function(){this.init()},methods:{init:function(){this.swiperOptions={watchOverflow:!0,direction:this.direction,autoplay:!!this.interval&&{deplay:this.interval,disableOnInteraction:!1},slidesPerView:1,loop:!(this.slidersArr.length<=1)&&this.loop,pagination:{el:this.pagination?".swiper-pagination":null}}}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("swiper",{key:this.keyId,attrs:{options:this.swiperOptions}},[this._t("default"),this._v(" "),this.pagination?e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):this._e()],2)},staticRenderFns:[]};var r=s("VU/8")(o,i,!1,function(t){s("2Mhd")},"data-v-5c83d286",null);e.a=r.exports},"1z84":function(t,e){},"2Mhd":function(t,e){},"3U2T":function(t,e){},"9bBU":function(t,e,s){s("mClu");var n=s("FeBl").Object;t.exports=function(t,e,s){return n.defineProperty(t,e,s)}},C4MV:function(t,e,s){t.exports={default:s("9bBU"),__esModule:!0}},Cdx3:function(t,e,s){var n=s("sB3e"),o=s("lktj");s("uqUo")("keys",function(){return function(t){return o(n(t))}})},CgFv:function(t,e,s){t.exports=s.p+"static/img/404.ed7cf35.png"},DuZe:function(t,e){},DusS:function(t,e){},MfKZ:function(t,e){},bOdI:function(t,e,s){"use strict";e.__esModule=!0;var n,o=s("C4MV"),i=(n=o)&&n.__esModule?n:{default:n};e.default=function(t,e,s){return e in t?(0,i.default)(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},fZjL:function(t,e,s){t.exports={default:s("jFbC"),__esModule:!0}},jFbC:function(t,e,s){s("Cdx3"),t.exports=s("FeBl").Object.keys},mClu:function(t,e,s){var n=s("kM2E");n(n.S+n.F*!s("+E39"),"Object",{defineProperty:s("evD5").f})},nqHE:function(t,e){},taF9:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("//Fk"),o=s.n(n),i=s("cQcd"),r=s("T452"),a=s("9EIA"),c="horizontal",l=!0,d=3e3,u=!0,p="on",v="加载中...",f=!1,h=!0,m={name:"ProductHeader",components:{BNavbar:s("8ViO").a},data:function(){return{visible:!0}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1},goBack:function(){this.$router.back()}}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("BNavbar",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"header"},[e("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},on:{click:this.goBack},slot:"left"}),this._v(" "),e("div",{staticClass:"product-headerC",attrs:{slot:"center"},slot:"center"},[this._v("商品详情")]),this._v(" "),e("i",{staticClass:"iconfont icon-cart",attrs:{slot:"right"},slot:"right"})])},staticRenderFns:[]};var C=s("VU/8")(m,_,!1,function(t){s("3U2T")},"data-v-7fd7620b",null).exports,b=s("+Vy2"),g=s("7QTg"),w=s("G8er"),k={name:"ProductSwiper",components:{BSwipper:b.a,swiperSlide:g.swiperSlide,BLoading:w.a},props:{slidersArr:{type:Array,default:function(){return[s("CgFv")]}}},created:function(){this.init()},methods:{init:function(){this.direction=c,this.loop=l,this.interval=d,this.pagination=u,this.indicator=p,this.text=v,this.inline=f}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper"},[t.slidersArr.length?s("BSwipper",{attrs:{slidersArr:t.slidersArr,loop:t.loop,interval:t.interval,pagination:t.pagination}},t._l(t.slidersArr,function(t,e){return s("swiper-slide",{key:e},[s("a",{staticClass:"slider-link",attrs:{href:"javascript:;",alt:""}},[s("img",{staticClass:"slider-pic",attrs:{src:t,alt:""}})])])}),1):s("BLoading",{attrs:{indicator:t.indicator,text:t.text,inline:t.inline}})],1)},staticRenderFns:[]};var T,B=s("VU/8")(k,y,!1,function(t){s("1z84")},"data-v-7132ea4c",null).exports,x=s("bOdI"),F=s.n(x),S=s("fZjL"),I=s.n(S),O=(T={name:"ProductContent",data:function(){return{productdetail:{},content:{},isRender:!0}},props:{contents:{type:Object,default:function(){return{}}}},watch:{contents:function(t){this.content=t.content,console.log(this.content)}},created:function(){console.log(this.contents),this.content=this.contents.content,this.productdetail=this.contents,0===I()(this.productdetail).length&&(this.isRender=!1)}},F()(T,"watch",{contents:function(t){this.content=t.content,0===I()(t).length?this.isRender=!1:this.isRender=!0}}),F()(T,"methods",{}),T),P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isRender?s("div",{staticClass:"product-content"},[s("div",{staticClass:"product-decs"},[s("p",{staticClass:"product-decs-top"},[s("span",{staticClass:"product-price"},[t._v("￥"),s("b",{staticClass:"product-priceNum"},[t._v(t._s(t.content.priceText))])]),s("span",{staticClass:"product-salecount"},[t._v(t._s(t.content.sellCount)+"件已售")])]),t._v(" "),s("h3",{staticClass:"product-decs-name"},[t._v(t._s(t.content.title))]),t._v(" "),s("p",{staticClass:"product-decs-bottom"},[s("span",{staticClass:"product-del"},[t._v(t._s(t.content.postage))]),s("span",{staticClass:"product-del"},[t._v("月销量"+t._s(t.content.soldCount)+"件")]),s("span",{staticClass:"product-del"},[t._v(t._s(t.content.from))])])]),t._v(" "),s("div",{staticClass:"product-comment"},[s("p",{staticClass:"product-comment-top"},[t._v("商品评价("+t._s(t.content.review.totalCount)+")")]),t._v(" "),s("ul",{staticClass:"product-comment-category"},t._l(t.content.review.keywords,function(e){return s("li",{key:e.attribute,staticClass:"product-comment-category-item"},[t._v(t._s(e.word)),s("span",{staticClass:"comment-num"},[t._v("("+t._s(e.count)+")")])])}),0),t._v(" "),s("ul",{staticClass:"product-comment-list"},[s("li",{staticClass:"product-comment-list-item"},[s("p",{staticClass:"commenter-info"},[s("img",{staticClass:"commenter-img",attrs:{src:t.content.review.rateList[0].headPic}}),s("span",{staticClass:"commenter-name"},[t._v(t._s(t.content.review.rateList[0].userName))])]),t._v(" "),s("p",{staticClass:"comment-content"},[t._v(t._s(t.content.review.rateList[0].content))]),t._v(" "),s("p",{staticClass:"comment-others"},[s("time",[t._v(t._s(t.content.review.rateList[0].dateTime))]),s("span",[t._v(t._s(t.content.review.rateList[0].skuInfo))])])])])]),t._v(" "),s("div",{staticClass:"product-store"},[s("div",{staticClass:"product-store-top"},[s("img",{staticClass:"product-store-img",attrs:{src:t.content.seller.shopIcon}}),t._v(" "),s("p",{staticClass:"product-store-info"},[s("span",{staticClass:"product-store-name"},[t._v(t._s(t.content.seller.shopName))]),s("span",{staticClass:"product-store-brand"},[t._v("天猫")])]),t._v(" "),s("span",{staticClass:"product-store-btn"},[t._v("全部宝贝")]),t._v(" "),s("span",{staticClass:"product-store-btn"},[t._v("进店逛逛")])]),t._v(" "),s("div",{staticClass:"product-store-bottom"},t._l(t.content.seller.evaluates,function(e){return s("span",{key:e.title},[t._v(t._s(e.title)+" "),s("b",[t._v(t._s(e.score))]),t._v(" "),s("i",{staticClass:"myiconfont"},[t._v(t._s(e.levelText))])])}),0)])]):t._e()},staticRenderFns:[]};var j=s("VU/8")(O,P,!1,function(t){s("nqHE")},"data-v-58bb3a07",null).exports,A=s("wef4"),E={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"product-footer"},[s("li",{staticClass:"product-footer-item"},[s("i",{staticClass:"iconfont icon-service"}),s("span",[t._v("店铺")])]),t._v(" "),s("li",{staticClass:"product-footer-item"},[s("i",{staticClass:"iconfont icon-service"}),s("span",[t._v("客服")])]),t._v(" "),s("li",{staticClass:"product-footer-item"},[s("i",{staticClass:"iconfont icon-service"}),s("span",[t._v("收藏")])]),t._v(" "),s("li",{staticClass:"product-footer-item cart-btn"},[s("span",[t._v("加入购物车")])]),t._v(" "),s("li",{staticClass:"product-footer-item grab-btn"},[s("span",[t._v("马上抢")])])])}]};var M=s("VU/8")({name:"ProductFooter"},E,!1,function(t){s("DusS")},null,null).exports,$=s("22O3"),N={name:"Product",components:{BScroll:a.a,BBacktop:A.a,ProductHeader:C,ProductSwiper:B,ProductContent:j,ProductFooter:M},data:function(){return{isBacktopVisible:!1,isHeaderTransition:!1,productId:"",slidersArr:[],contents:{},keyId:Math.random(),isShow:!1}},created:function(){this.init()},mounted:function(){this.isShow=!0},watch:{productId:function(t){this.productId=this.$route.params.id,$.a.remove("mall-product-CONTENT-keyword-key"),console.log(this.$route.params.id),this.keyId=Math.random(),this.getProductData(this.productId)}},methods:{init:function(){this.scrollbar=h,this.productId=this.$route.params.id,this.getProductData(this.productId)},getProductData:function(t){var e=this;return function(t){console.log(t);var e={api:"mtop.taobao.detail.getdetail",ttid:"2017@taobao_h5_6.6.0",data:'{"itemNumId":"'+t+'"}',appKey:12574478,dataType:"jsonp",type:"jsonp",v:"6.0"};return Object(i.a)("https://unszacs.m.taobao.com/h5/mtop.taobao.detail.getdetail/6.0/",e,r.d).then(function(t){if(console.log(t),(t=t.data).apiStack&&t.item){var e=JSON.parse(t.apiStack[0].value);console.log(e);var n={content:{}};return n.content.priceText=e.price.price.priceText,n.content.soldCount=e.vertical.jhs.soldCount,n.content.title=e.item.title,n.content.postage=e.delivery.postage,n.content.sellCount=e.item.sellCount,n.content.from=e.delivery.from,t.rate&&(n.content.review={},n.content.review.totalCount=t.rate.totalCount,n.content.review.keywords=t.rate.keywords||[],n.content.review.rateList=t.rate.rateList||[]),t.seller&&(n.content.seller={},n.content.seller.shopIcon=t.seller.shopIcon,n.content.seller.shopName=t.seller.shopName,n.content.seller.creditLevelIcon=t.seller.creditLevelIcon,n.content.seller.evaluates=t.seller.evaluates),n.slider=t.item.images||[s("CgFv")],console.log(n),n}throw new Error("没有成功获取到数据！")}).catch(function(t){t&&console.log(t)}).then(function(t){return new o.a(function(e){setTimeout(function(){e(t)},1e3)})})}(t).then(function(t){if(console.log(t),!t||!t.slider)return e.slidersArr=[s("CgFv")],void console.log(e.slidersArr);e.slidersArr=t.slider,e.contents=t,$.a.set("mall-product-CONTENT-keyword-key",t),console.log(e.contents)})},backToTop:function(){this.$refs.scroll&&this.$refs.scroll.scrollToTop()},changeHeaderStatus:function(t){t>0?this.$refs.productHeader.hide():(this.$refs.productHeader.show(),this.isHeaderTransition=-t>100)}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"product"}},[t.isShow?s("div",{staticClass:"product"},[s("header",{staticClass:"g-header-container"},[s("ProductHeader",{ref:"productHeader",class:{"header-transition":t.isHeaderTransition}})],1),t._v(" "),s("BScroll",{ref:"scroll",attrs:{scrollbar:t.scrollbar}},[s("div",{staticClass:"product-wrapper"},[s("ProductSwiper",{attrs:{slidersArr:t.slidersArr}}),t._v(" "),s("ProductContent",{attrs:{contents:t.contents}})],1)]),t._v(" "),s("div",{staticClass:"g-backtop-container"},[s("BBacktop",{attrs:{visible:t.isBacktopVisible},on:{backtop:t.backToTop}})],1),t._v(" "),s("footer",{staticClass:"g-footer-container"},[s("ProductFooter")],1),t._v(" "),s("router-view")],1):t._e()])},staticRenderFns:[]};var L=s("VU/8")(N,V,!1,function(t){s("DuZe")},"data-v-606542f2",null);e.default=L.exports},uqUo:function(t,e,s){var n=s("kM2E"),o=s("FeBl"),i=s("S82l");t.exports=function(t,e){var s=(o.Object||{})[t]||Object[t],r={};r[t]=e(s),n(n.S+n.F*i(function(){s(1)}),"Object",r)}},wef4:function(t,e,s){"use strict";var n={name:"BBacktop",props:{visible:{type:Boolean,default:!1}},methods:{backToTop:function(){this.$emit("backtop")}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"backtop"}},[e("a",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"backtop",attrs:{href:"javascript:;"},on:{click:this.backToTop}},[e("i",{staticClass:"iconfont icon-backtop"})])])},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(t){s("MfKZ")},"data-v-0bdd2295",null);e.a=i.exports}});
//# sourceMappingURL=2.bdda66f3946eeac0de4c.js.map