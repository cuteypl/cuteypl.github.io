{"version":3,"sources":["webpack:///./src/assets/js/mixins.js","webpack:///./src/api/search.js","webpack:///src/pages/category/header.vue","webpack:///./src/pages/category/header.vue?446d","webpack:///./src/pages/category/header.vue","webpack:///./src/pages/category/config.js","webpack:///src/pages/category/sidebar.vue","webpack:///./src/pages/category/sidebar.vue?e6b0","webpack:///./src/pages/category/sidebar.vue","webpack:///./src/api/category.js","webpack:///src/pages/category/content.vue","webpack:///./src/pages/category/content.vue?20aa","webpack:///./src/pages/category/content.vue","webpack:///src/pages/category/index.vue","webpack:///./src/pages/category/index.vue?3139","webpack:///./src/pages/category/index.vue","webpack:///./src/pages/search/config.js","webpack:///src/pages/search/result.vue","webpack:///./src/pages/search/result.vue?9263","webpack:///./src/pages/search/result.vue"],"names":["__webpack_require__","d","__webpack_exports__","searchMixin","__WEBPACK_IMPORTED_MODULE_0_assets_js_storage__","__WEBPACK_IMPORTED_MODULE_1_pages_search_config__","methods","$_search_selectItem","keyword","keywords","storage","get","SEARCH_HISTORY_KEYWORD_KEY","length","filter","val","unshift","set","location","href","getSearchHotKeyword","axios","timeout","TIMEOUT","then","res","console","log","data","hotKeyWord","owner","Error","catch","err","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","setTimeout","getSearchResult","params","q","code","area","nick","sid","jsonp","jsonpOptions","result","header","name","components","BNavbar","navbar","BSearch","search","query","_query","this","$emit","category_header","render","_h","$createElement","_c","_self","staticClass","attrs","slot","placeholder","on","_v","staticRenderFns","pages_category_header","normalizeComponent","ssrContext","categoryNames","id","sidebar","BScroll","basecomponents_scroll","curId","created","init","switchTab","category_sidebar","_vm","scrollbar","_l","item","index","key","class","sidebar-itemActive","click","$event","_s","pages_category_sidebar","sidebar_normalizeComponent","CancelToken","cancel","category_content","BLoading","loading","props","String","default","content","isLoading","watch","_this","getContent","$refs","scroll","scrollToTop","_this2","contents","prefix","updateTime","curTime","Date","getTime","getContentByLocalStorage","getContentByHTTP","updateLocalStorage","promise_default","_this3","cancelToken","c","SUCC_CODE","isCancel","category_getCategoryContent","pages_category_content","_e","ref","banner","linkUrl","src","picUrl","section","directives","rawName","value","expression","category","CategoryHeader","CategorySidebar","CategoryContent","content_normalizeComponent","SearchResult","getCurrentId","showGetResult","pages_category","switchTabEvent","category_Component","category_normalizeComponent","results","type","mixins","getResults","Object","search_result","Component"],"mappings":"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","file":"static/js/4.d26d290b4d7d7ae3b3ff.js","sourcesContent":["import storage from 'assets/js/storage';\r\nimport {SEARCH_HISTORY_KEYWORD_KEY} from 'pages/search/config';\r\n\r\nexport const searchMixin = {\r\n  methods: {\r\n    $_search_selectItem(keyword) {\r\n      let keywords = storage.get(SEARCH_HISTORY_KEYWORD_KEY, []);\r\n\r\n      if (keywords.length !== 0) {\r\n        keywords = keywords.filter(val => val !== keyword);\r\n      }\r\n\r\n      keywords.unshift(keyword);\r\n\r\n      storage.set(SEARCH_HISTORY_KEYWORD_KEY, keywords);\r\n\r\n      location.href = `https://s.m.taobao.com/h5?event_submit_do_new_search_auction=1&_input_charset=utf-8&topSearch=1&atype=b&searchfrom=1&action=home%3Aredirect_app_action&from=1&sst=1&n=20&buying=buyitnow&q=${keyword}`;\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/mixins.js","import axios from 'axios';\r\nimport jsonp from 'assets/js/jsonp';\r\nimport {jsonpOptions, TIMEOUT} from './config';\r\n\r\n// 获取热门搜索数据--ajax\r\nexport const getSearchHotKeyword = () => {\r\n  return axios.get('https://www.imooc.com/api/search/hot', {\r\n    timeout: TIMEOUT\r\n  }).then(res => {\r\n    console.log(res);\r\n    res = res.data.hotKeyWord; // res = JSON.parse(res.data.hotKeyWord);\r\n    if (res && res.owner) { // succeed\r\n        // console.log(res.owner);\r\n      return res.owner;\r\n    }\r\n    throw new Error('没有成功获取到数据！');\r\n  }).catch(err => {\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n  }).then(res => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(res);\r\n      }, 1000);\r\n    });\r\n  });\r\n};\r\n\r\n// 获取搜索结果数据--jsonp\r\nexport const getSearchResult = keyword => {\r\n  const url = 'https://suggest.taobao.com/sug';\r\n  const params = {\r\n    q: keyword,\r\n    code: 'utf-8',\r\n    area: 'c2c',\r\n    nick: '',\r\n    sid: null\r\n  };\r\n\r\n  // jsonpOptions.timeout = 100;\r\n\r\n  return jsonp(url, params, jsonpOptions).then(res => {\r\n    if (res.result) {\r\n      console.log(res);\r\n      return res.result;\r\n    }\r\n\r\n    throw new Error('没有成功获取到数据！');\r\n  }).catch(err => {\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n  }).then(res => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(res);\r\n      }, 1000);\r\n    });\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/search.js","<template>\r\n    <BNavbar class=\"header\">\r\n        <BSearch placeholder=\"开学季有礼，好货5折起\" @query=\"query\" slot=\"center\"></BSearch>\r\n        <i class=\"iconfont icon-msg\" slot=\"right\"></i>\r\n    </BNavbar>\r\n</template>\r\n\r\n<script>\r\n    import BNavbar from 'basecomponents/navbar';\r\n    import BSearch from 'basecomponents/search';\r\n    export default {\r\n        name: 'CategoryHeader',\r\n        components: {\r\n            BNavbar,\r\n            BSearch\r\n        },\r\n        methods: {\r\n            query(query) { this.$emit('query', query); }\r\n            // goToSearch() { this.$router.push('/search'); } // $router相当于location.history\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import '~assets/scss/mixins';\r\n    .BNavbar.header{ // .BNavbar为BNavbar组件特有的class名\r\n        background-color: $header-bgc-translucent;\r\n    }\r\n    .iconfont{\r\n        color: $icon-color-default;\r\n        font-size: $icon-font-size;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/category/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BNavbar',{staticClass:\"header\"},[_c('BSearch',{attrs:{\"slot\":\"center\",\"placeholder\":\"开学季有礼，好货5折起\"},on:{\"query\":_vm.query},slot:\"center\"}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-msg\",attrs:{\"slot\":\"right\"},slot:\"right\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f9ba03b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f9ba03b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f9ba03b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f9ba03b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/header.vue\n// module id = null\n// module chunks = ","const prefix = 'mall-category';\r\nconst suffix = 'key';\r\nexport const CATEGORY_CONTENT_KEY = `${prefix}-content-${suffix}`;\r\n// export const CATEGORY_CONTENT_UPDATE_TIME_INTERVAL = 1 * 24 * 60 * 60 * 1000;\r\nexport const CATEGORY_CONTENT_UPDATE_TIME_INTERVAL = 10 * 1000;\r\n// category names\r\nexport const categoryNames = [\r\n    {\r\n      'name': '热门推荐',\r\n      'id': 'WQR2006'\r\n    },\r\n    {\r\n      'name': '慕淘超市',\r\n      'id': 'WQ1968'\r\n    },\r\n    {\r\n      'name': '国际名牌',\r\n      'id': 'WQ1969'\r\n    },\r\n    {\r\n      'name': '奢侈品',\r\n      'id': 'WQ1970'\r\n    },\r\n    {\r\n      'name': '全球购',\r\n      'id': 'WQ1971'\r\n    },\r\n    {\r\n      'name': '男装',\r\n      'id': 'WQ1972'\r\n    },\r\n    {\r\n      'name': '女装',\r\n      'id': 'WQ1973'\r\n    },\r\n    {\r\n      'name': '男鞋',\r\n      'id': 'WQ1974'\r\n    },\r\n    {\r\n      'name': '女鞋',\r\n      'id': 'WQ1975'\r\n    },\r\n    {\r\n      'name': '内衣配饰',\r\n      'id': 'WQ1976'\r\n    },\r\n    {\r\n      'name': '箱包手袋',\r\n      'id': 'WQ1977'\r\n    },\r\n    {\r\n      'name': '美妆个护',\r\n      'id': 'WQ1978'\r\n    },\r\n    {\r\n      'name': '钟表珠宝',\r\n      'id': 'WQ1979'\r\n    },\r\n    {\r\n      'name': '手机数码',\r\n      'id': 'WQ1980'\r\n    },\r\n    {\r\n      'name': '电脑办公',\r\n      'id': 'WQ1981'\r\n    },\r\n    {\r\n      'name': '家用电器',\r\n      'id': 'WQ1982'\r\n    },\r\n    {\r\n      'name': '食品生鲜',\r\n      'id': 'WQ1983'\r\n    },\r\n    {\r\n      'name': '酒水饮料',\r\n      'id': 'WQ1984'\r\n    },\r\n    {\r\n      'name': '母婴童鞋',\r\n      'id': 'WQ1985'\r\n    },\r\n    {\r\n      'name': '玩具乐器',\r\n      'id': 'WQ1986'\r\n    },\r\n    {\r\n      'name': '医药保健',\r\n      'id': 'WQ1987'\r\n    },\r\n    {\r\n      'name': '计生情趣',\r\n      'id': 'WQ1988'\r\n    },\r\n    {\r\n      'name': '运动户外',\r\n      'id': 'WQ1989'\r\n    },\r\n    {\r\n      'name': '汽车用品',\r\n      'id': 'WQ1990'\r\n    },\r\n    {\r\n      'name': '家居厨具',\r\n      'id': 'WQ1991'\r\n    },\r\n    {\r\n      'name': '家具家装',\r\n      'id': 'WQ1992'\r\n    },\r\n    {\r\n      'name': '礼品鲜花',\r\n      'id': 'WQ1993'\r\n    },\r\n    {\r\n      'name': '宠物生活',\r\n      'id': 'WQ1994'\r\n    },\r\n    {\r\n      'name': '生活旅行',\r\n      'id': 'WQ1995'\r\n    },\r\n    {\r\n      'name': '图书音像',\r\n      'id': 'WQ1996'\r\n    },\r\n    {\r\n      'name': '邮币',\r\n      'id': 'WQ1997'\r\n    },\r\n    {\r\n      'name': '农资绿植',\r\n      'id': 'WQ1998'\r\n    },\r\n    {\r\n      'name': '特产馆',\r\n      'id': 'WQ1999'\r\n    },\r\n    {\r\n      'name': '慕淘金融',\r\n      'id': 'WQ2000'\r\n    },\r\n    {\r\n      'name': '拍卖',\r\n      'id': 'WQ2001'\r\n    },\r\n    {\r\n      'name': '房产',\r\n      'id': 'WQ2008'\r\n    },\r\n    {\r\n      'name': '二手商品',\r\n      'id': 'WQ2002'\r\n    }\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category/config.js","<template>\r\n    <BScroll :scrollbar=\"false\"> <!--传的不是字符串要加冒号-->\r\n        <ul class=\"sidebar\">\r\n            <li class=\"sidebar-item\" v-for=\"(item,index) in categoryNames\" :key=\"index\" :class=\"{'sidebar-itemActive': item.id === curId}\" @click=\"switchTab(item.id)\">{{item.name}}</li>\r\n        </ul>\r\n    </BScroll>\r\n</template>\r\n\r\n<script>\r\n    import BScroll from 'basecomponents/scroll';\r\n    import {categoryNames} from './config';\r\n    export default {\r\n        name: 'CategorySidebar',\r\n        components: {\r\n            BScroll\r\n        },\r\n        data() {\r\n            return {\r\n                curId: ''\r\n            };\r\n        },\r\n        created() {\r\n            this.init();\r\n            this.switchTab(this.categoryNames[0].id);\r\n        },\r\n        methods: {\r\n            init() { this.categoryNames = categoryNames; },\r\n            switchTab(id) {\r\n                if (this.curId === id) { return; }\r\n                this.curId = id;\r\n                this.$emit('switchTabEvent', id);\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import '~assets/scss/mixins';\r\n    $tab-item-height: 46px;\r\n    .sidebar{\r\n        width: 100%;\r\n        &-item {\r\n            height: $tab-item-height;\r\n            background-color: #fff;\r\n            border-right: 1px solid $border-color;\r\n            border-bottom: 1px solid $border-color;\r\n            color: #080808;\r\n            font-size: $font-size-l;\r\n            font-weight: bold;\r\n            text-align: center;\r\n            line-height: $tab-item-height;\r\n            @include ellipsis();\r\n            &:last-child{\r\n                border-bottom: none;\r\n            }\r\n        }\r\n        &-itemActive{\r\n            background: none;\r\n            border-right: none;\r\n            color: #f23030;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/category/sidebar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BScroll',{attrs:{\"scrollbar\":false}},[_c('ul',{staticClass:\"sidebar\"},_vm._l((_vm.categoryNames),function(item,index){return _c('li',{key:index,staticClass:\"sidebar-item\",class:{'sidebar-itemActive': item.id === _vm.curId},on:{\"click\":function($event){return _vm.switchTab(item.id)}}},[_vm._v(_vm._s(item.name))])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fe049dc0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/sidebar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fe049dc0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sidebar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sidebar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sidebar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fe049dc0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sidebar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fe049dc0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/sidebar.vue\n// module id = null\n// module chunks = ","import axios from 'axios';\r\nimport {SUCC_CODE, TIMEOUT} from './config';\r\n\r\nconst CancelToken = axios.CancelToken;\r\nlet cancel;\r\n// 获取内容数据--ajax\r\nexport const getCategoryContent = (id) => {\r\n  cancel && cancel('取消了前一次的请求！');\r\n  cancel = null;\r\n  return axios.get(`http://www.imooc.com/api/category/content/${id}`, {\r\n    timeout: TIMEOUT,\r\n    cancelToken: new CancelToken(function executor(c) {\r\n      cancel = c;\r\n    })\r\n  }).then(res => {\r\n    if (res.data.code === SUCC_CODE) {\r\n      console.log('ok');\r\n      return res.data.content;\r\n    }\r\n    throw new Error('没有成功获取到数据！');\r\n  }).catch(err => {\r\n    if (axios.isCancel(err)) { // 取消前一次的请求\r\n      console.log(err);\r\n    } else {\r\n      // handle error\r\n      console.log(err);\r\n    }\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/category.js","<template>\r\n    <div class=\"content-wrapper\">\r\n        <div class=\"loading-container\" v-if=\"isLoading\">\r\n            <div class=\"loading-wrapper\">\r\n                <BLoading></BLoading>\r\n            </div>\r\n        </div>\r\n        <BScroll ref=\"scroll\">\r\n            <div class=\"content\">\r\n                <div class=\"pic\" v-if=\"content.banner\">\r\n                    <a :href=\"content.banner.linkUrl\" class=\"pic-link\"><img :src=\"content.banner.picUrl\" class=\"pic-img\"></a>\r\n                </div>\r\n                <div class=\"section\" v-for=\"(section,index) in content.data\" :key=\"index\">\r\n                    <h4 class=\"section-title\">{{section.name}}</h4>\r\n                    <ul class=\"section-list\">\r\n                        <li class=\"section-item\" v-for=\"(item,index) in section.itemList\" :key=\"index\">\r\n                            <p class=\"section-pic\" v-if=\"item.picUrl\"><img v-lazy=\"item.picUrl\" class=\"section-img\"></p>\r\n                            <p class=\"section name\">{{item.name}}</p>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </BScroll>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import BLoading from 'basecomponents/loading';\r\n    import BScroll from 'basecomponents/scroll';\r\n    import {getCategoryContent} from 'api/category';\r\n    import storage from 'assets/js/storage';\r\n    import {CATEGORY_CONTENT_KEY, CATEGORY_CONTENT_UPDATE_TIME_INTERVAL} from './config';\r\n    export default {\r\n        name: 'CategoryContent',\r\n        components: {\r\n            BLoading,\r\n            BScroll\r\n        },\r\n        props: {\r\n            curId: String,\r\n            default: ''\r\n        },\r\n        data() {\r\n            return {\r\n                content: {},\r\n                isLoading: false\r\n            };\r\n        },\r\n        watch: {\r\n            curId(id) {\r\n                this.isLoading = true;\r\n                this.getContent(id).then(() => { this.isLoading = false; });\r\n                this.$refs.scroll && this.$refs.scroll.scrollToTop(0); // 切换后选项后，内容区回到顶部，调用scroll自定义组件的scrollToTop()\r\n            }\r\n        },\r\n        methods: {\r\n            getContent(id) {\r\n                let contents = storage.get(CATEGORY_CONTENT_KEY);\r\n                let updateTime;\r\n                const curTime = new Date().getTime();\r\n                if (contents && contents[id]) { // 如果本地存储有该数据\r\n                    updateTime = contents[id].updateTime || 0;\r\n                    if (curTime - updateTime <= CATEGORY_CONTENT_UPDATE_TIME_INTERVAL) {\r\n                        return this.getContentByLocalStorage(contents[id]);\r\n                    } else {\r\n                        return this.getContentByHTTP(id).then(() => { this.updateLocalStorage(contents, id, curTime); });\r\n                    }\r\n                } else {\r\n                    return this.getContentByHTTP(id).then(() => { this.updateLocalStorage(contents, id, curTime); });\r\n                }\r\n            },\r\n            getContentByLocalStorage(content) {\r\n                this.content = content.data;\r\n                return Promise.resolve();\r\n            },\r\n            getContentByHTTP(id) {\r\n                return getCategoryContent(id).then(data => {\r\n                return new Promise(resolve => {\r\n                    if (data) {\r\n                    this.content = data;\r\n                    console.log(this.content);\r\n                    resolve();\r\n                    }\r\n                });\r\n                });\r\n            },\r\n            updateLocalStorage(contents, id, curTime) {\r\n                contents = contents || {};\r\n                contents[id] = {};\r\n                contents[id].data = this.content;\r\n                contents[id].updateTime = curTime;\r\n                storage.set(CATEGORY_CONTENT_KEY, contents);\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"~assets/scss/mixins\";\r\n  .content-wrapper {\r\n    position: relative;\r\n    height: 100%;\r\n  }\r\n  .loading-container {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: $category-popup-z-index;\r\n    @include flex-center();\r\n    width: 100%;\r\n    height: 100%;\r\n    // background-color: $modal-bgc;\r\n    .loading {\r\n      color: #fff;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  .loading-wrapper {\r\n    width: 50%;\r\n    padding: 30px 0;\r\n    background-color: $modal-bgc;\r\n    border-radius: 4px;\r\n  }\r\n  .content {\r\n    padding: 10px;\r\n  }\r\n  .pic {\r\n    margin-bottom: 12px;\r\n    &-link {\r\n      display: block;\r\n    }\r\n    &-img {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .section {\r\n    margin-bottom: 12px;\r\n    &:last-child {\r\n      margin-bottom: $tabbar-height;\r\n    }\r\n    &-title {\r\n      height: 28px;\r\n      line-height: 28px;\r\n      color: #080808;\r\n      font-weight: bold;\r\n    }\r\n    &-list {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      background-color: #fff;\r\n      padding: 10px 10px 0;\r\n    }\r\n    &-item {\r\n      width: (100% / 3);\r\n    }\r\n    &-link {\r\n      display: block;\r\n    }\r\n    &-pic {\r\n      position: relative;\r\n      width: 80%;\r\n      padding-bottom: 80%;\r\n      margin: 0 auto;\r\n    }\r\n    &-img {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    &-name {\r\n      height: 36px;\r\n      line-height: 36px;\r\n      text-align: center;\r\n      @include ellipsis();\r\n    }\r\n  }\r\n  .g-backtop-container {\r\n    bottom: 10px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/category/content.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrapper\"},[(_vm.isLoading)?_c('div',{staticClass:\"loading-container\"},[_c('div',{staticClass:\"loading-wrapper\"},[_c('BLoading')],1)]):_vm._e(),_vm._v(\" \"),_c('BScroll',{ref:\"scroll\"},[_c('div',{staticClass:\"content\"},[(_vm.content.banner)?_c('div',{staticClass:\"pic\"},[_c('a',{staticClass:\"pic-link\",attrs:{\"href\":_vm.content.banner.linkUrl}},[_c('img',{staticClass:\"pic-img\",attrs:{\"src\":_vm.content.banner.picUrl}})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.content.data),function(section,index){return _c('div',{key:index,staticClass:\"section\"},[_c('h4',{staticClass:\"section-title\"},[_vm._v(_vm._s(section.name))]),_vm._v(\" \"),_c('ul',{staticClass:\"section-list\"},_vm._l((section.itemList),function(item,index){return _c('li',{key:index,staticClass:\"section-item\"},[(item.picUrl)?_c('p',{staticClass:\"section-pic\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],staticClass:\"section-img\"})]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"section name\"},[_vm._v(_vm._s(item.name))])])}),0)])})],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93caf246\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/content.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-93caf246\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./content.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./content.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./content.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-93caf246\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./content.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-93caf246\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/content.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"category\">\r\n    <header class=\"g-header-container\"><CategoryHeader @query=\"showGetResult\"></CategoryHeader></header>\r\n    <SearchResult v-show=\"query\" :query=\"query\" class=\"category-searchResult\"></SearchResult>\r\n    <div class=\"g-content-container\">\r\n      <div class=\"sidebar-container\"><CategorySidebar @switchTabEvent=\"getCurrentId\"></CategorySidebar></div>\r\n      <div class=\"content-container\"><CategoryContent :curId=\"curId\"></CategoryContent></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import CategoryHeader from './header';\r\n  import CategorySidebar from './sidebar';\r\n  import CategoryContent from './content';\r\n  import SearchResult from 'pages/search/result';\r\n  export default {\r\n    name: 'Category',\r\n    components: {\r\n      CategoryHeader,\r\n      CategorySidebar,\r\n      CategoryContent,\r\n      SearchResult\r\n    },\r\n    data() {\r\n      return {\r\n        curId: '',\r\n        query: ''\r\n      };\r\n    },\r\n    methods: {\r\n      getCurrentId(id) {\r\n        this.curId = id;\r\n      },\r\n      showGetResult(query) {\r\n        this.query = query;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import '~assets/scss/mixins';\r\n  .category{\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: $bgc-theme;\r\n    overflow: hidden;\r\n  }\r\n  .g-content-container{\r\n    display: flex; // 若滚动条失效，一般是其要滚动的元素的内容高度 没有 大于父容器的高度，检查父容器高度及其自己的高度\r\n  }\r\n  .sidebar-container{\r\n    width: 80px;\r\n    height: 100%;\r\n  }\r\n  .content-container{\r\n    flex: 1;\r\n    height: 100%;\r\n  }\r\n  .category-searchResult{ // 搜索框输入内容搜索结果展示区\r\n    position: absolute;\r\n    top: $navbar-height;\r\n    width: 100%;\r\n    background: #fff;\r\n    z-index: $search-z-index;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/category/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"category\"},[_c('header',{staticClass:\"g-header-container\"},[_c('CategoryHeader',{on:{\"query\":_vm.showGetResult}})],1),_vm._v(\" \"),_c('SearchResult',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"category-searchResult\",attrs:{\"query\":_vm.query}}),_vm._v(\" \"),_c('div',{staticClass:\"g-content-container\"},[_c('div',{staticClass:\"sidebar-container\"},[_c('CategorySidebar',{on:{\"switchTabEvent\":_vm.getCurrentId}})],1),_vm._v(\" \"),_c('div',{staticClass:\"content-container\"},[_c('CategoryContent',{attrs:{\"curId\":_vm.curId}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9976eda2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9976eda2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9976eda2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9976eda2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/index.vue\n// module id = null\n// module chunks = ","const prefix = 'mall-search';\r\nconst suffix = 'key';\r\nexport const SEARCH_HISTORY_KEYWORD_KEY = `${prefix}-history-keyword-${suffix}`;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/config.js","<template>\r\n  <!-- <div>\r\n    result\r\n  </div> -->\r\n  <div class=\"result\">\r\n    <div class=\"loading-container\" v-show=\"loading\">\r\n      <BLoading></BLoading>\r\n    </div>\r\n    <ul class=\"g-list\" v-show=\"!loading && results.length\">\r\n      <li class=\"g-list-item\" v-for=\"(item, index) in results\" :key=\"index\" @click=\"$_search_selectItem(item[0])\" >\r\n        <span class=\"g-list-text\">{{item[0]}}</span>\r\n      </li>\r\n    </ul>\r\n    <div class=\"no-result\" v-show=\"!loading && !results.length\">没有结果</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import BLoading from 'basecomponents/loading';\r\n  import {getSearchResult} from 'api/search';\r\n  import {searchMixin} from 'assets/js/mixins';\r\n  export default {\r\n    name: 'SearchResult',\r\n    components: {\r\n      BLoading\r\n    },\r\n    data() {\r\n      return {\r\n        results: [],\r\n        loading: true\r\n      };\r\n    },\r\n    props: {\r\n      query: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    mixins: [searchMixin],\r\n    watch: {\r\n      query(query) {\r\n        this.getResults(query);\r\n      }\r\n    },\r\n    methods: {\r\n      getResults(keyword) {\r\n        if (!keyword) {\r\n          return;\r\n        }\r\n\r\n        this.loading = true;\r\n        getSearchResult(keyword).then(data => {\r\n          if (data) {\r\n            this.results = data;\r\n            this.loading = false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"result\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading-container\"},[_c('BLoading')],1),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.results.length),expression:\"!loading && results.length\"}],staticClass:\"g-list\"},_vm._l((_vm.results),function(item,index){return _c('li',{key:index,staticClass:\"g-list-item\",on:{\"click\":function($event){return _vm.$_search_selectItem(item[0])}}},[_c('span',{staticClass:\"g-list-text\"},[_vm._v(_vm._s(item[0]))])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && !_vm.results.length),expression:\"!loading && !results.length\"}],staticClass:\"no-result\"},[_vm._v(\"没有结果\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f3a8c09\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f3a8c09\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f3a8c09\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5f3a8c09\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/result.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}