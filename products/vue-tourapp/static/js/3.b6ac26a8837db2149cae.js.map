{"version":3,"sources":["webpack:///./src/assets/js/mixins.js","webpack:///./src/api/search.js","webpack:///./src/pages/search/config.js","webpack:///src/basecomponents/confirm/index.vue","webpack:///./src/basecomponents/confirm/index.vue?66da","webpack:///./src/basecomponents/confirm/index.vue","webpack:///src/pages/search/header.vue","webpack:///./src/pages/search/header.vue?d80a","webpack:///./src/pages/search/header.vue","webpack:///src/pages/search/hot.vue","webpack:///./src/pages/search/hot.vue?82a6","webpack:///./src/pages/search/hot.vue","webpack:///src/pages/search/history.vue","webpack:///./src/pages/search/history.vue?b7c8","webpack:///./src/pages/search/history.vue","webpack:///src/pages/search/index.vue","webpack:///./src/pages/search/index.vue?c15d","webpack:///./src/pages/search/index.vue","webpack:///src/pages/search/result.vue","webpack:///./src/pages/search/result.vue?9263","webpack:///./src/pages/search/result.vue"],"names":["__webpack_require__","d","__webpack_exports__","searchMixin","__WEBPACK_IMPORTED_MODULE_0_assets_js_storage__","__WEBPACK_IMPORTED_MODULE_1_pages_search_config__","methods","$_search_selectItem","keyword","keywords","storage","get","SEARCH_HISTORY_KEYWORD_KEY","length","filter","val","unshift","set","location","href","getSearchHotKeyword","axios","timeout","TIMEOUT","then","res","console","log","data","hotKeyWord","owner","Error","catch","err","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","setTimeout","getSearchResult","params","q","code","area","nick","sid","jsonp","jsonpOptions","result","prefix","basecomponents_confirm","name","props","title","type","String","default","msg","cancelBtnText","confirmBtnText","visible","show","this","hide","cancel","$emit","confirm","selectortype_template_index_0_src_basecomponents_confirm","render","_vm","_h","$createElement","_c","_self","attrs","directives","rawName","value","expression","staticClass","_v","_s","_e","on","click","staticRenderFns","src_basecomponents_confirm","normalizeComponent","ssrContext","header","components","BNavbar","navbar","BSearch","search","goBack","$router","back","query","_query","search_header","slot","placeholder","pages_search_header","header_normalizeComponent","hot","BLoading","loading","hots","created","_this","getHotKeyword","mixins","_this2","Object","api_search","promise_default","search_hot","_l","item","index","key","$event","hotWord","pages_search_hot","hot_normalizeComponent","search_history","historys","getKeyword","update","config","removeItem","showConfirm","clear","remove","pages_search_history","tag","stopPropagation","src_pages_search_history","history_normalizeComponent","pages_search","BScroll","basecomponents_scroll","BConfirm","SearchHeader","SearchHot","SearchHistory","SearchResult","getQuery","updateScroll","$refs","scroll","clearAllSearchHistorys","history","selectortype_template_index_0_src_pages_search","ref","loaded","show-confirm","remove-item","search_Component","search_normalizeComponent","results","watch","getResults","search_result","Component"],"mappings":"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","file":"static/js/3.b6ac26a8837db2149cae.js","sourcesContent":["import storage from 'assets/js/storage';\r\nimport {SEARCH_HISTORY_KEYWORD_KEY} from 'pages/search/config';\r\n\r\nexport const searchMixin = {\r\n  methods: {\r\n    $_search_selectItem(keyword) {\r\n      let keywords = storage.get(SEARCH_HISTORY_KEYWORD_KEY, []);\r\n\r\n      if (keywords.length !== 0) {\r\n        keywords = keywords.filter(val => val !== keyword);\r\n      }\r\n\r\n      keywords.unshift(keyword);\r\n\r\n      storage.set(SEARCH_HISTORY_KEYWORD_KEY, keywords);\r\n\r\n      location.href = `https://s.m.taobao.com/h5?event_submit_do_new_search_auction=1&_input_charset=utf-8&topSearch=1&atype=b&searchfrom=1&action=home%3Aredirect_app_action&from=1&sst=1&n=20&buying=buyitnow&q=${keyword}`;\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/mixins.js","import axios from 'axios';\r\nimport jsonp from 'assets/js/jsonp';\r\nimport {jsonpOptions, TIMEOUT} from './config';\r\n\r\n// 获取热门搜索数据--ajax\r\nexport const getSearchHotKeyword = () => {\r\n  return axios.get('https://www.imooc.com/api/search/hot', {\r\n    timeout: TIMEOUT\r\n  }).then(res => {\r\n    console.log(res);\r\n    res = res.data.hotKeyWord; // res = JSON.parse(res.data.hotKeyWord);\r\n    if (res && res.owner) { // succeed\r\n        // console.log(res.owner);\r\n      return res.owner;\r\n    }\r\n    throw new Error('没有成功获取到数据！');\r\n  }).catch(err => {\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n  }).then(res => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(res);\r\n      }, 1000);\r\n    });\r\n  });\r\n};\r\n\r\n// 获取搜索结果数据--jsonp\r\nexport const getSearchResult = keyword => {\r\n  const url = 'https://suggest.taobao.com/sug';\r\n  const params = {\r\n    q: keyword,\r\n    code: 'utf-8',\r\n    area: 'c2c',\r\n    nick: '',\r\n    sid: null\r\n  };\r\n\r\n  // jsonpOptions.timeout = 100;\r\n\r\n  return jsonp(url, params, jsonpOptions).then(res => {\r\n    if (res.result) {\r\n      console.log(res);\r\n      return res.result;\r\n    }\r\n\r\n    throw new Error('没有成功获取到数据！');\r\n  }).catch(err => {\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n  }).then(res => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(res);\r\n      }, 1000);\r\n    });\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/search.js","const prefix = 'mall-search';\r\nconst suffix = 'key';\r\nexport const SEARCH_HISTORY_KEYWORD_KEY = `${prefix}-history-keyword-${suffix}`;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/config.js","<template>\r\n  <transition name=\"mine-confirm\">\r\n    <div class=\"mine-confirm-wrapper\" v-show=\"visible\">\r\n      <div class=\"mine-confirm\">\r\n        <div class=\"mine-confirm-title\" v-if=\"title\">{{title}}</div>\r\n        <div class=\"mine-confirm-msg\">{{msg}}</div>\r\n        <div class=\"mine-confirm-btns\">\r\n          <button class=\"mine-confirm-btn mine-confirm-cancel\" @click=\"cancel\">{{cancelBtnText}}</button>\r\n          <button class=\"mine-confirm-btn mine-confirm-ok\" @click=\"confirm\" >{{confirmBtnText}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'BConfirm',\r\n    props: {\r\n      title: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      msg: {\r\n        type: String,\r\n        default: '确定执行此操作吗？'\r\n      },\r\n      cancelBtnText: {\r\n        type: String,\r\n        default: '取消'\r\n      },\r\n      confirmBtnText: {\r\n        type: String,\r\n        default: '确定'\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        visible: false\r\n      };\r\n    },\r\n    methods: {\r\n      show() {\r\n        this.visible = true;\r\n      },\r\n      hide() {\r\n        this.visible = false;\r\n      },\r\n\r\n      cancel() {\r\n        this.hide();\r\n        this.$emit('cancel');\r\n      },\r\n      confirm() {\r\n        this.hide();\r\n        this.$emit('confirm');\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"~assets/scss/mixins\";\r\n\r\n  .mine-confirm-wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: $search-popup-z-index;\r\n    @include flex-center();\r\n    background-color: $modal-bgc;\r\n  }\r\n\r\n  .mine-confirm {\r\n    overflow: hidden;\r\n    width: 88%;\r\n    background-color: #fff;\r\n    border-radius: 10px;\r\n    font-size: 16px;\r\n\r\n    &-title {\r\n      padding: 20px 15px 0;\r\n      font-size: 18px;\r\n      text-align: center;\r\n      @include ellipsis();\r\n\r\n      & + .mine-confirm-msg {\r\n        padding-top: 20px;\r\n        padding-bottom: 20px;\r\n      }\r\n    }\r\n\r\n    &-msg {\r\n      padding: 40px 15px;\r\n      text-align: center;\r\n      line-height: 1.5;\r\n    }\r\n\r\n    &-btns {\r\n      display: flex;\r\n    }\r\n\r\n    &-btn {\r\n      flex: 1;\r\n      height: 44px;\r\n      line-height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n\r\n    &-cancel {\r\n      border-top: 1px solid #e3e5e9;\r\n    }\r\n\r\n    &-ok {\r\n      background-color: #f23030;\r\n      color: #fff;\r\n    }\r\n  }\r\n\r\n  .mine-confirm {\r\n    &-enter-active,\r\n    &-leave-active {\r\n      transition: opacity 0.3s;\r\n    }\r\n\r\n    &-enter,\r\n    &-leave-to {\r\n      opacity: 0;\r\n    }\r\n\r\n    &-enter-active {\r\n      .mine-confirm {\r\n        animation: bounce-in 0.3s;\r\n      }\r\n    }\r\n  }\r\n  // https://cn.vuejs.org/v2/guide/transitions.html#CSS-动画\r\n  @keyframes bounce-in {\r\n    0% {\r\n      transform: scale(0);\r\n    }\r\n    50% {\r\n      transform: scale(1.1);\r\n    }\r\n    100% {\r\n      transform: scale(1);\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/basecomponents/confirm/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"mine-confirm\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"mine-confirm-wrapper\"},[_c('div',{staticClass:\"mine-confirm\"},[(_vm.title)?_c('div',{staticClass:\"mine-confirm-title\"},[_vm._v(_vm._s(_vm.title))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mine-confirm-msg\"},[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('div',{staticClass:\"mine-confirm-btns\"},[_c('button',{staticClass:\"mine-confirm-btn mine-confirm-cancel\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelBtnText))]),_vm._v(\" \"),_c('button',{staticClass:\"mine-confirm-btn mine-confirm-ok\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.confirmBtnText))])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e0232dc0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/basecomponents/confirm/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e0232dc0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e0232dc0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e0232dc0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/basecomponents/confirm/index.vue\n// module id = null\n// module chunks = ","<template>\r\n    <BNavbar class=\"header\">\r\n        <i class=\"iconfont icon-back\" slot=\"left\" @click=\"goBack\"></i>\r\n        <BSearch placeholder=\"开学季有礼，好货5折起\" @query=\"query\" slot=\"center\"></BSearch>\r\n    </BNavbar>\r\n</template>\r\n\r\n<script>\r\n    import BNavbar from 'basecomponents/navbar';\r\n    import BSearch from 'basecomponents/search';\r\n    export default {\r\n        name: 'SearchHeader',\r\n        components: {\r\n            BNavbar,\r\n            BSearch\r\n        },\r\n        methods: {\r\n            goBack() { this.$router.back(); },\r\n            query(query) { this.$emit('query', query); } // 再向search的index页抛出query\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import \"~assets/scss/mixins\";\r\n    .header{\r\n        border-bottom: 1px solid $border-color;\r\n        .iconfont{\r\n            color: $icon-color;\r\n            font-size: $icon-font-size;\r\n        }\r\n        .search-wrapper{\r\n            background-color: #f7f7f7;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BNavbar',{staticClass:\"header\"},[_c('i',{staticClass:\"iconfont icon-back\",attrs:{\"slot\":\"left\"},on:{\"click\":_vm.goBack},slot:\"left\"}),_vm._v(\" \"),_c('BSearch',{attrs:{\"slot\":\"center\",\"placeholder\":\"开学季有礼，好货5折起\"},on:{\"query\":_vm.query},slot:\"center\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ec300548\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ec300548\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ec300548\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ec300548\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/header.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"hot\">\r\n      <h4 class=\"hot-title\">热门搜索</h4>\r\n      <div class=\"loading-container\" v-if=\"!hots.length\"><BLoading></BLoading></div>\r\n      <ul class=\"hot-list\" v-else>\r\n          <li class=\"hot-item\" v-for=\"(item,index) in hots\" :key=\"index\" @click=\"$_search_selectItem(item.hotWord)\">{{item.hotWord}}</li>\r\n      </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import BLoading from 'basecomponents/loading';\r\n    import {getSearchHotKeyword} from 'api/search';\r\n    import {searchMixin} from 'assets/js/mixins';\r\n    export default {\r\n        name: 'SearchHot',\r\n        components: {\r\n            BLoading\r\n        },\r\n        data() {\r\n            return { hots: [] };\r\n        },\r\n        created() {\r\n            this.getHotKeyword().then(() => { this.$emit('loaded'); }); // 抛出loaded，告知已经加载好了数据，去刷新滚动条\r\n        },\r\n        mixins: [searchMixin],\r\n        methods: {\r\n            getHotKeyword() {\r\n                return getSearchHotKeyword().then(data => {\r\n                return new Promise(resolve => {\r\n                    if (data) {\r\n                    this.hots = data;\r\n                    resolve();\r\n                    }\r\n                });\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"~assets/scss/mixins\";\r\n  .hot {\r\n        padding-left: 10px;\r\n        margin-bottom: 10px;\r\n        border-bottom: 1px solid $border-color;\r\n        background-color: #fff;\r\n        &-title {\r\n            height: 34px;\r\n            line-height: 34px;\r\n            font-size: $font-size-l;\r\n            font-weight: bold;\r\n        }\r\n        &-list {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n        }\r\n        &-item {\r\n            padding: 8px;\r\n            margin: 0 10px 10px 0;\r\n            background-color: #f0f2f5;\r\n            border-radius: 4px;\r\n            color: #686868;\r\n        }\r\n    }\r\n  .loading-container {\r\n    padding: 10px 0;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/hot.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hot\"},[_c('h4',{staticClass:\"hot-title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),(!_vm.hots.length)?_c('div',{staticClass:\"loading-container\"},[_c('BLoading')],1):_c('ul',{staticClass:\"hot-list\"},_vm._l((_vm.hots),function(item,index){return _c('li',{key:index,staticClass:\"hot-item\",on:{\"click\":function($event){return _vm.$_search_selectItem(item.hotWord)}}},[_vm._v(_vm._s(item.hotWord))])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b0b17494\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/hot.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b0b17494\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./hot.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hot.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hot.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b0b17494\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./hot.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b0b17494\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/hot.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"history\" v-if=\"historys.length\">\r\n        <h4 class=\"history-title\">历史搜索</h4>\r\n        <transition-group class=\"g-list\" name=\"list\" tag=\"ul\">\r\n            <li class=\"g-list-item\" v-for=\"item in historys\" :key=\"item\" @click=\"$_search_selectItem(item)\">\r\n                <span class=\"g-list-text\">{{item}}</span>\r\n                <i class=\"iconfont icon-delete\" @click.stop=\"removeItem(item)\"></i>\r\n            </li>\r\n        </transition-group>\r\n        <a href=\"javascript:;\" class=\"history-btn\" @click=\"showConfirm\"><i class=\"iconfont icon-clear\"></i>清空历史搜索</a>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import storage from 'assets/js/storage';\r\n    import {SEARCH_HISTORY_KEYWORD_KEY} from './config';\r\n    import {searchMixin} from 'assets/js/mixins';\r\n    export default {\r\n        name: 'SearchHistory',\r\n        data() {\r\n        return {\r\n            historys: []\r\n        };\r\n        },\r\n        created() {\r\n            this.getKeyword();\r\n        },\r\n        mixins: [searchMixin],\r\n        methods: {\r\n        update() {\r\n            this.getKeyword();\r\n        },\r\n        getKeyword() {\r\n            this.historys = storage.get(SEARCH_HISTORY_KEYWORD_KEY, []);\r\n        },\r\n        removeItem(item) {\r\n            this.historys = this.historys.filter(val => val !== item);\r\n            storage.set(SEARCH_HISTORY_KEYWORD_KEY, this.historys);\r\n            setTimeout(() => {\r\n            this.$emit('remove-item', item);\r\n            }, 100);\r\n        },\r\n        showConfirm() {\r\n            this.$emit('show-confirm');\r\n        },\r\n        clear() {\r\n            storage.remove(SEARCH_HISTORY_KEYWORD_KEY);\r\n        }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import \"~assets/scss/mixins\";\r\n    .history {\r\n        padding-bottom: 30px;\r\n        background-color: #fff;\r\n        &-title {\r\n            height: 34px;\r\n            line-height: 34px;\r\n            padding: 0 10px;\r\n            font-size: $font-size-l;\r\n            font-weight: bold;\r\n        }\r\n        &-btn {\r\n            @include flex-center();\r\n            width: 80%;\r\n            height: 40px;\r\n            background: none;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n            margin: 0 auto;\r\n            color: #686868;\r\n            .iconfont {\r\n                margin-right: 5px;\r\n            }\r\n        }\r\n    }\r\n    .g-list {\r\n        border-top: 1px solid $border-color;\r\n        border-bottom: 1px solid $border-color;\r\n        margin-bottom: 20px;\r\n    }\r\n    .list {\r\n        &-enter-active,\r\n        &-leave-active {\r\n            transition: height 0.1s;\r\n        }\r\n        &-enter,\r\n        &-leave-to {\r\n            height: 0;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/history.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.historys.length)?_c('div',{staticClass:\"history\"},[_c('h4',{staticClass:\"history-title\"},[_vm._v(\"历史搜索\")]),_vm._v(\" \"),_c('transition-group',{staticClass:\"g-list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.historys),function(item){return _c('li',{key:item,staticClass:\"g-list-item\",on:{\"click\":function($event){return _vm.$_search_selectItem(item)}}},[_c('span',{staticClass:\"g-list-text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeItem(item)}}})])}),0),_vm._v(\" \"),_c('a',{staticClass:\"history-btn\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"iconfont icon-clear\"}),_vm._v(\"清空历史搜索\")])],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e64b05d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/history.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e64b05d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./history.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./history.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./history.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e64b05d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./history.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e64b05d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/history.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"search\">\r\n    <div class=\"search\">\r\n      <header class=\"g-header-container\">\r\n        <SearchHeader @query=\"getQuery\"></SearchHeader>\r\n      </header>\r\n      <div class=\"g-content-container\">\r\n        <BScroll ref=\"scroll\">\r\n          <SearchHot v-show=\"!query\" @loaded=\"updateScroll\"></SearchHot>\r\n          <SearchHistory v-show=\"!query\" @show-confirm=\"showConfirm\" @remove-item=\"updateScroll\" ref=\"history\"></SearchHistory>\r\n          <SearchResult v-show=\"query\" :query=\"query\"></SearchResult>\r\n        </BScroll>\r\n      </div>\r\n      <BConfirm msg=\"确定要清空吗？\" @confirm=\"clearAllSearchHistorys\" ref=\"confirm\"></BConfirm>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  import BScroll from 'basecomponents/scroll';\r\n  import BConfirm from 'basecomponents/confirm';\r\n  import SearchHeader from './header';\r\n  import SearchHot from './hot';\r\n  import SearchHistory from './history';\r\n  import SearchResult from './result';\r\n  export default {\r\n    name: 'Search',\r\n    components: {\r\n      BScroll,\r\n      BConfirm,\r\n      SearchHeader,\r\n      SearchHot,\r\n      SearchHistory,\r\n      SearchResult\r\n    },\r\n    data() {\r\n      return {\r\n        query: ''\r\n      };\r\n    },\r\n    methods: {\r\n      getQuery(query) { this.query = query; },\r\n      updateScroll() { this.$refs.scroll.update(); },\r\n      showConfirm() { this.$refs.confirm.show(); },\r\n      clearAllSearchHistorys() {\r\n        this.$refs.history.clear();\r\n        this.$refs.history.update();\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"~assets/scss/mixins\";\r\n  .search{\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: $search-z-index;\r\n    background-color: $bgc-theme;\r\n  }\r\n  .search-enter{\r\n    transform: translate3d(100%,0,0);\r\n  }\r\n  .search-enter-active, .search-leave-active{\r\n    transition: all 0.3s;\r\n  }\r\n  .search-leave-to{\r\n    transform: translate3d(100%,0,0);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"search\"}},[_c('div',{staticClass:\"search\"},[_c('header',{staticClass:\"g-header-container\"},[_c('SearchHeader',{on:{\"query\":_vm.getQuery}})],1),_vm._v(\" \"),_c('div',{staticClass:\"g-content-container\"},[_c('BScroll',{ref:\"scroll\"},[_c('SearchHot',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],on:{\"loaded\":_vm.updateScroll}}),_vm._v(\" \"),_c('SearchHistory',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"history\",on:{\"show-confirm\":_vm.showConfirm,\"remove-item\":_vm.updateScroll}}),_vm._v(\" \"),_c('SearchResult',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],attrs:{\"query\":_vm.query}})],1)],1),_vm._v(\" \"),_c('BConfirm',{ref:\"confirm\",attrs:{\"msg\":\"确定要清空吗？\"},on:{\"confirm\":_vm.clearAllSearchHistorys}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24537ca1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24537ca1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24537ca1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-24537ca1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <!-- <div>\r\n    result\r\n  </div> -->\r\n  <div class=\"result\">\r\n    <div class=\"loading-container\" v-show=\"loading\">\r\n      <BLoading></BLoading>\r\n    </div>\r\n    <ul class=\"g-list\" v-show=\"!loading && results.length\">\r\n      <li class=\"g-list-item\" v-for=\"(item, index) in results\" :key=\"index\" @click=\"$_search_selectItem(item[0])\" >\r\n        <span class=\"g-list-text\">{{item[0]}}</span>\r\n      </li>\r\n    </ul>\r\n    <div class=\"no-result\" v-show=\"!loading && !results.length\">没有结果</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import BLoading from 'basecomponents/loading';\r\n  import {getSearchResult} from 'api/search';\r\n  import {searchMixin} from 'assets/js/mixins';\r\n  export default {\r\n    name: 'SearchResult',\r\n    components: {\r\n      BLoading\r\n    },\r\n    data() {\r\n      return {\r\n        results: [],\r\n        loading: true\r\n      };\r\n    },\r\n    props: {\r\n      query: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    mixins: [searchMixin],\r\n    watch: {\r\n      query(query) {\r\n        this.getResults(query);\r\n      }\r\n    },\r\n    methods: {\r\n      getResults(keyword) {\r\n        if (!keyword) {\r\n          return;\r\n        }\r\n\r\n        this.loading = true;\r\n        getSearchResult(keyword).then(data => {\r\n          if (data) {\r\n            this.results = data;\r\n            this.loading = false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"result\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading-container\"},[_c('BLoading')],1),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.results.length),expression:\"!loading && results.length\"}],staticClass:\"g-list\"},_vm._l((_vm.results),function(item,index){return _c('li',{key:index,staticClass:\"g-list-item\",on:{\"click\":function($event){return _vm.$_search_selectItem(item[0])}}},[_c('span',{staticClass:\"g-list-text\"},[_vm._v(_vm._s(item[0]))])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && !_vm.results.length),expression:\"!loading && !results.length\"}],staticClass:\"no-result\"},[_vm._v(\"没有结果\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f3a8c09\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f3a8c09\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f3a8c09\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5f3a8c09\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/result.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}